(function(t,e){"object"===typeof exports&&"object"===typeof module?module.exports=e():"function"===typeof define&&define.amd?define([],e):"object"===typeof exports?exports["v2ComponentImage"]=e():t["v2ComponentImage"]=e()})("undefined"!==typeof self?self:this,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s="61d3")}({"006c":function(t,e){t.exports=!1},"0384":function(t,e,n){var r=n("f364"),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},"06f8":function(t,e,n){"use strict";var r=n("096d");t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},"096d":function(t,e,n){var r=n("a533");t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},"15a9":function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},"1a8d":function(t,e,n){var r=n("ea35")("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,!"/./"[t](e)}catch(o){}}return!0}},"219c":function(t,e,n){var r=n("3846").f,o=Function.prototype,i=/^\s*function ([^ (]*)/,a="name";a in o||n("8f21")&&r(o,a,{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(t){return""}}})},2350:function(t,e){function n(t,e){var n=t[1]||"",o=t[3];if(!o)return n;if(e&&"function"===typeof btoa){var i=r(o),a=o.sources.map(function(t){return"/*# sourceURL="+o.sourceRoot+t+" */"});return[n].concat(a).concat([i]).join("\n")}return[n].join("\n")}function r(t){var e=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),n="sourceMappingURL=data:application/json;charset=utf-8;base64,"+e;return"/*# "+n+" */"}t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var r=n(e,t);return e[2]?"@media "+e[2]+"{"+r+"}":r}).join("")},e.i=function(t,n){"string"===typeof t&&(t=[[null,t,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"===typeof i&&(r[i]=!0)}for(o=0;o<t.length;o++){var a=t[o];"number"===typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},"2d1b":function(t,e,n){"use strict";var r=n("096d"),o=n("615a"),i=n("0384"),a=n("f364"),c=n("fdbe"),u=n("c6d0"),f=Math.max,s=Math.min,l=Math.floor,d=/\$([$&`']|\d\d?|<[^>]*>)/g,p=/\$([$&`']|\d\d?)/g,v=function(t){return void 0===t?t:String(t)};n("daaa")("replace",2,function(t,e,n,h){return[function(r,o){var i=t(this),a=void 0==r?void 0:r[e];return void 0!==a?a.call(r,i,o):n.call(String(i),r,o)},function(t,e){var o=h(n,t,this,e);if(o.done)return o.value;var l=r(t),d=String(this),p="function"===typeof e;p||(e=String(e));var m=l.global;if(m){var y=l.unicode;l.lastIndex=0}var b=[];while(1){var x=u(l,d);if(null===x)break;if(b.push(x),!m)break;var S=String(x[0]);""===S&&(l.lastIndex=c(d,i(l.lastIndex),y))}for(var w="",_=0,j=0;j<b.length;j++){x=b[j];for(var C=String(x[0]),E=f(s(a(x.index),d.length),0),M=[],R=1;R<x.length;R++)M.push(v(x[R]));var T=x.groups;if(p){var O=[C].concat(M,E,d);void 0!==T&&O.push(T);var $=String(e.apply(void 0,O))}else $=g(C,d,E,M,T,e);E>=_&&(w+=d.slice(_,E)+$,_=E+C.length)}return w+d.slice(_)}];function g(t,e,r,i,a,c){var u=r+t.length,f=i.length,s=p;return void 0!==a&&(a=o(a),s=d),n.call(c,s,function(n,o){var c;switch(o.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,r);case"'":return e.slice(u);case"<":c=a[o.slice(1,-1)];break;default:var s=+o;if(0===s)return n;if(s>f){var d=l(s/10);return 0===d?n:d<=f?void 0===i[d-1]?o.charAt(1):i[d-1]+o.charAt(1):n}c=i[s-1]}return void 0===c?"":c})}})},"365c":function(t,e,n){var r=n("3846"),o=n("890e");t.exports=n("8f21")?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},3846:function(t,e,n){var r=n("096d"),o=n("c32e"),i=n("f3da"),a=Object.defineProperty;e.f=n("8f21")?Object.defineProperty:function(t,e,n){if(r(t),e=i(e,!0),r(n),o)try{return a(t,e,n)}catch(c){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},"38c0":function(t,e,n){"use strict";var r=n("dc7d"),o=n.n(r);o.a},4809:function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},"499e":function(t,e,n){"use strict";function r(t,e){for(var n=[],r={},o=0;o<e.length;o++){var i=e[o],a=i[0],c=i[1],u=i[2],f=i[3],s={id:t+":"+o,css:c,media:u,sourceMap:f};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}n.r(e),n.d(e,"default",function(){return v});var o="undefined"!==typeof document;if("undefined"!==typeof DEBUG&&DEBUG&&!o)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var i={},a=o&&(document.head||document.getElementsByTagName("head")[0]),c=null,u=0,f=!1,s=function(){},l=null,d="data-vue-ssr-id",p="undefined"!==typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function v(t,e,n,o){f=n,l=o||{};var a=r(t,e);return h(a),function(e){for(var n=[],o=0;o<a.length;o++){var c=a[o],u=i[c.id];u.refs--,n.push(u)}e?(a=r(t,e),h(a)):a=[];for(o=0;o<n.length;o++){u=n[o];if(0===u.refs){for(var f=0;f<u.parts.length;f++)u.parts[f]();delete i[u.id]}}}}function h(t){for(var e=0;e<t.length;e++){var n=t[e],r=i[n.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](n.parts[o]);for(;o<n.parts.length;o++)r.parts.push(m(n.parts[o]));r.parts.length>n.parts.length&&(r.parts.length=n.parts.length)}else{var a=[];for(o=0;o<n.parts.length;o++)a.push(m(n.parts[o]));i[n.id]={id:n.id,refs:1,parts:a}}}}function g(){var t=document.createElement("style");return t.type="text/css",a.appendChild(t),t}function m(t){var e,n,r=document.querySelector("style["+d+'~="'+t.id+'"]');if(r){if(f)return s;r.parentNode.removeChild(r)}if(p){var o=u++;r=c||(c=g()),e=b.bind(null,r,o,!1),n=b.bind(null,r,o,!0)}else r=g(),e=x.bind(null,r),n=function(){r.parentNode.removeChild(r)};return e(t),function(r){if(r){if(r.css===t.css&&r.media===t.media&&r.sourceMap===t.sourceMap)return;e(t=r)}else n()}}var y=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}();function b(t,e,n,r){var o=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=y(e,o);else{var i=document.createTextNode(o),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(i,a[e]):t.appendChild(i)}}function x(t,e){var n=e.css,r=e.media,o=e.sourceMap;if(r&&t.setAttribute("media",r),l.ssrId&&t.setAttribute(d,e.id),o&&(n+="\n/*# sourceURL="+o.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),t.styleSheet)t.styleSheet.cssText=n;else{while(t.firstChild)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}},"538d":function(t,e,n){var r=n("f364"),o=n("15a9");t.exports=function(t){return function(e,n){var i,a,c=String(o(e)),u=r(n),f=c.length;return u<0||u>=f?t?"":void 0:(i=c.charCodeAt(u),i<55296||i>56319||u+1===f||(a=c.charCodeAt(u+1))<56320||a>57343?t?c.charAt(u):i:t?c.slice(u,u+2):a-56320+(i-55296<<10)+65536)}}},"540f":function(t,e,n){t.exports=n("783c")("native-function-to-string",Function.toString)},"5a3b":function(t,e,n){var r=n("a533"),o=n("b045"),i=n("ea35")("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==o(t))}},"611c":function(t,e,n){"use strict";var r=n("aa3d"),o=n("0384"),i=n("9f43"),a="startsWith",c=""[a];r(r.P+r.F*n("1a8d")(a),"String",{startsWith:function(t){var e=i(this,t,a),n=o(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return c?c.call(e,r,n):e.slice(n,n+r.length)===r}})},"615a":function(t,e,n){var r=n("15a9");t.exports=function(t){return Object(r(t))}},"61d3":function(t,e,n){"use strict";var r;(n.r(e),"undefined"!==typeof window)&&(n("98c7"),(r=window.document.currentScript)&&(r=r.src.match(/(.+\/)[^\/]+\.js(\?.*)?$/))&&(n.p=r[1]));var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"v2-picture",class:t.widgetClass,style:t.model.commonStyle},[n("img",{ref:"imgComponent",attrs:{src:t.outSrc,width:"100%",height:"100%",ondragstart:"return false;"}})])},i=[],a=(n("611c"),n("219c"),n("2d1b"),{name:"v2-component-image",data:function(){return{mode:"",id:0}},computed:{outSrc:function(){var t,e=this,n=e.model.src||"";return t=n.replace(/'/g,"").replace(/"/g,""),"edit"===e.mode?"v1/runtime/".concat(t):"runtime"===e.mode?"./".concat(t):void 0}},methods:{changeSrc:function(t){this.$store.getters.model(this.id).src=t}},beforeMount:function(){this.id=this.model.id},beforeUpdate:function(){this.id=this.model.id},mounted:function(){var t=this,e=t.$refs.imgComponent;t.$ArrowDown&&t.$ArrowLeft&&t.$Tab?t.mode="runtime":(t.mode="edit",e.ondragenter=function(t){t.stopPropagation(),t.preventDefault()},e.ondragover=function(t){t.stopPropagation(),t.preventDefault()},e.ondrop=function(e){e.stopPropagation(),e.preventDefault();var n=e.dataTransfer.files[0],r=n.name,o=n.type,i=new FileReader;if(!o.startsWith("image"))return alert("只支持上传图片"),null;i.readAsDataURL(n),i.onload=function(e){t.apis("/v1/page/upload",{params:{name:r,event:e,type:o,result:e.target.result}}).then(function(e){console.log("成功上传至"+e.path),t.changeSrc("img/".concat(r))}).catch(function(t){console.log("上传失败:"+t)})}},e.onmousedown=function(t){return!1}),console.log(t)}}),c=a;n("38c0");function u(t,e,n,r,o,i,a,c){var u,f="function"===typeof t?t.options:t;if(e&&(f.render=e,f.staticRenderFns=n,f._compiled=!0),r&&(f.functional=!0),i&&(f._scopeId="data-v-"+i),a?(u=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},f._ssrRegister=u):o&&(u=c?function(){o.call(this,this.$root.$options.shadowRoot)}:o),u)if(f.functional){f._injectStyles=u;var s=f.render;f.render=function(t,e){return u.call(e),s(t,e)}}else{var l=f.beforeCreate;f.beforeCreate=l?[].concat(l,u):[u]}return{exports:t,options:f}}var f=u(c,o,i,!1,null,"6fd4ce3c",null),s=f.exports;e["default"]=s},"68ae":function(t,e,n){var r=n("ad70"),o=n("365c"),i=n("ad44"),a=n("c3fc")("src"),c=n("540f"),u="toString",f=(""+c).split(u);n("a927").inspectSource=function(t){return c.call(t)},(t.exports=function(t,e,n,c){var u="function"==typeof n;u&&(i(n,"name")||o(n,"name",e)),t[e]!==n&&(u&&(i(n,a)||o(n,a,t[e]?""+t[e]:f.join(String(e)))),t===r?t[e]=n:c?t[e]?t[e]=n:o(t,e,n):(delete t[e],o(t,e,n)))})(Function.prototype,u,function(){return"function"==typeof this&&this[a]||c.call(this)})},"783c":function(t,e,n){var r=n("a927"),o=n("ad70"),i="__core-js_shared__",a=o[i]||(o[i]={});(t.exports=function(t,e){return a[t]||(a[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n("006c")?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},"7b37":function(t,e,n){var r=n("b045"),o=n("ea35")("toStringTag"),i="Arguments"==r(function(){return arguments}()),a=function(t,e){try{return t[e]}catch(n){}};t.exports=function(t){var e,n,c;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=a(e=Object(t),o))?n:i?r(e):"Object"==(c=r(e))&&"function"==typeof e.callee?"Arguments":c}},"828d":function(t,e,n){"use strict";var r=n("b2bb");n("aa3d")({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},"890e":function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},"8f21":function(t,e,n){t.exports=!n("4809")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},"913e":function(t,e,n){var r=n("a392");t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},"98c7":function(t,e){(function(t){var e="currentScript",n=t.getElementsByTagName("script");e in t||Object.defineProperty(t,e,{get:function(){try{throw new Error}catch(r){var t,e=(/.*at [^\(]*\((.*):.+:.+\)$/gi.exec(r.stack)||[!1])[1];for(t in n)if(n[t].src==e||"interactive"==n[t].readyState)return n[t];return null}}})})(document)},"9f43":function(t,e,n){var r=n("5a3b"),o=n("15a9");t.exports=function(t,e,n){if(r(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(o(t))}},a392:function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},a533:function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},a927:function(t,e){var n=t.exports={version:"2.6.9"};"number"==typeof __e&&(__e=n)},aa3d:function(t,e,n){var r=n("ad70"),o=n("a927"),i=n("365c"),a=n("68ae"),c=n("913e"),u="prototype",f=function(t,e,n){var s,l,d,p,v=t&f.F,h=t&f.G,g=t&f.S,m=t&f.P,y=t&f.B,b=h?r:g?r[e]||(r[e]={}):(r[e]||{})[u],x=h?o:o[e]||(o[e]={}),S=x[u]||(x[u]={});for(s in h&&(n=e),n)l=!v&&b&&void 0!==b[s],d=(l?b:n)[s],p=y&&l?c(d,r):m&&"function"==typeof d?c(Function.call,d):d,b&&a(b,s,d,t&f.U),x[s]!=d&&i(x,s,p),m&&S[s]!=d&&(S[s]=d)};r.core=o,f.F=1,f.G=2,f.S=4,f.P=8,f.B=16,f.W=32,f.U=64,f.R=128,t.exports=f},ad44:function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},ad70:function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},b045:function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},b2bb:function(t,e,n){"use strict";var r=n("06f8"),o=RegExp.prototype.exec,i=String.prototype.replace,a=o,c="lastIndex",u=function(){var t=/a/,e=/b*/g;return o.call(t,"a"),o.call(e,"a"),0!==t[c]||0!==e[c]}(),f=void 0!==/()??/.exec("")[1],s=u||f;s&&(a=function(t){var e,n,a,s,l=this;return f&&(n=new RegExp("^"+l.source+"$(?!\\s)",r.call(l))),u&&(e=l[c]),a=o.call(l,t),u&&a&&(l[c]=l.global?a.index+a[0].length:e),f&&a&&a.length>1&&i.call(a[0],n,function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(a[s]=void 0)}),a}),t.exports=a},c32e:function(t,e,n){t.exports=!n("8f21")&&!n("4809")(function(){return 7!=Object.defineProperty(n("f9c9")("div"),"a",{get:function(){return 7}}).a})},c3fc:function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},c6d0:function(t,e,n){"use strict";var r=n("7b37"),o=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"===typeof n){var i=n.call(t,e);if("object"!==typeof i)throw new TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==r(t))throw new TypeError("RegExp#exec called on incompatible receiver");return o.call(t,e)}},daaa:function(t,e,n){"use strict";n("828d");var r=n("68ae"),o=n("365c"),i=n("4809"),a=n("15a9"),c=n("ea35"),u=n("b2bb"),f=c("species"),s=!i(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),l=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(t,e,n){var d=c(t),p=!i(function(){var e={};return e[d]=function(){return 7},7!=""[t](e)}),v=p?!i(function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[f]=function(){return n}),n[d](""),!e}):void 0;if(!p||!v||"replace"===t&&!s||"split"===t&&!l){var h=/./[d],g=n(a,d,""[t],function(t,e,n,r,o){return e.exec===u?p&&!o?{done:!0,value:h.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}),m=g[0],y=g[1];r(String.prototype,t,m),o(RegExp.prototype,d,2==e?function(t,e){return y.call(t,this,e)}:function(t){return y.call(t,this)})}}},dc7d:function(t,e,n){var r=n("de31");"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var o=n("499e").default;o("4abd38f6",r,!0,{sourceMap:!1,shadowMode:!1})},de31:function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,".v2-picture[data-v-6fd4ce3c]{width:100px;height:100px}",""])},ea35:function(t,e,n){var r=n("783c")("wks"),o=n("c3fc"),i=n("ad70").Symbol,a="function"==typeof i,c=t.exports=function(t){return r[t]||(r[t]=a&&i[t]||(a?i:o)("Symbol."+t))};c.store=r},f364:function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},f3da:function(t,e,n){var r=n("a533");t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},f9c9:function(t,e,n){var r=n("a533"),o=n("ad70").document,i=r(o)&&r(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},fdbe:function(t,e,n){"use strict";var r=n("538d")(!0);t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}}})["default"]});