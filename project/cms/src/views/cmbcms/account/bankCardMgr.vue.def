{"structure":{"id":"root","component":"v2Container","direction":"row","layout":[100],"style":{"width":"100%","height":"100%"},"data":{},"children":[{"direction":"row","rules":"","customClass":"","__type":"","__loopTarget":"","__capacity":"1","component":"v2-layout","href":"v2-layout","children":[{"text":"银行卡管理","editable":false,"customClass":"","__type":"","__loopTarget":"","__capacity":"1","component":"v2-component-text","href":"v2-component-text","children":[],"events":{},"id":1563875761911,"pid":1563875679465,"commonStyle":{"position":"","top":"","right":"","left":"","bottom":"","width":"","height":"","text-align":"","background-color":"","padding-top":"","padding-bottom":"","padding-left":"","padding-right":"","margin-top":"","margin-bottom":"","margin-left":"","margin-right":"","border-color":"","border-width":"","border-style":"","color":""}},{"component":"v2-layout","href":"v2-layout","layout":["10","90"],"direction":"row","children":[{"theme":{"btnType":"","size":""},"style":{"btnStyle":{"background-color":"","height":"","width":"","color":""}},"btnName":"银行卡录入","shape":"def","loading":false,"disabled":false,"ctnClass":"","customClass":"","__type":"","__loopTarget":"","__capacity":"1","component":"v2-component-btn","href":"v2-component-btn","children":[],"events":{"_op_componentBtn_btn":{"click":["addBankCard"]}},"id":1564043682665,"pid":1564043725000,"commonStyle":{"position":"","top":"","right":"","left":"","bottom":"","padding-top":"","padding-bottom":"","padding-left":"","padding-right":"","margin-top":"","margin-bottom":"","margin-left":"","margin-right":"","font-size":"","color":""},"layoutClass":["v2left","v2bottom"],"lastLayoutClass":[null,null]},{"theme":{"tableType":"border","size":"mini"},"columns":[{"active":true,"prop":"columns0","label":"","fixed":"","width":"","sortable":false},{"active":true,"prop":"card_num","label":"银行卡号","fixed":"","width":"","sortable":false},{"active":true,"prop":"password","label":"密码","fixed":"","width":"","sortable":false},{"active":true,"prop":"card_kind","label":" 卡种","fixed":"","width":"","sortable":false,"type":"tag","tagMap":[{"active":true,"value":"0","text":"储蓄卡","type":"text"},{"active":true,"value":"1","text":"贷记卡","type":"text"},{"active":true,"value":"2","text":"信用卡","type":"text"}]},{"active":true,"prop":"status","label":"状态","fixed":"","width":"","sortable":false,"type":"tag","tagMap":[{"active":true,"value":"0","text":"未绑定"},{"active":true,"value":"1","text":"未激活","type":"text"},{"active":true,"value":"2","text":"使用中","type":"text"},{"active":true,"value":"3","text":"冻结","type":"text"},{"active":true,"value":"4","text":"挂失","type":"text"}]},{"active":true,"prop":"create_branch","label":"开户行","fixed":"","width":"","sortable":false},{"active":true,"prop":"create_date","label":"创建日期","fixed":"","width":"","sortable":false},{"active":true,"prop":"expired_date","label":"过期日期","fixed":"","width":"","sortable":false},{"active":true,"prop":"phone","label":"预留电话","fixed":"","width":"","sortable":false}],"selection":"","openIndex":false,"toolBar":false,"toolTitle":"操作列","toolLocation":"right","toolWidth":"100","toolBtns":[{"active":true,"btnName":"删除","type":"danger","handler":"deleteBankCard"}],"tHeight":"","tMaxHeight":"","tableData":"${bankCardListData}","customClass":"","__type":"","__loopTarget":"","__capacity":"1","component":"v2-component-table","href":"v2-component-table","children":[],"events":{},"id":1563875773177,"pid":1564043725000,"commonStyle":{"position":"","top":"","right":"","left":"","bottom":"","width":"","height":"","text-align":"","background-color":"","padding-top":"","padding-bottom":"","padding-left":"","padding-right":"","margin-top":"","margin-bottom":"","margin-left":"","margin-right":"","border-color":"","border-width":"","border-style":"","color":"","opacity":1,"border-radius":"0px"},"ctnClass":""}],"style":{},"pid":1563875679465,"id":1564043725000,"ctnStyle":[{"position":"","top":"","right":"","left":"","bottom":"","text-align":"","background-color":"","padding-top":"","padding-bottom":"","padding-left":"","padding-right":"","margin-top":"","margin-bottom":"","margin-left":"","margin-right":"","border-color":"","border-width":"","border-style":""},{"position":"","top":"","right":"","left":"","bottom":"","text-align":"","background-color":"","padding-top":"","padding-bottom":"","padding-left":"","padding-right":"","margin-top":"","margin-bottom":"","margin-left":"","margin-right":"","border-color":"","border-width":"","border-style":""}],"ctnClass":"","customClass":"","realSize":["%","%"],"commonStyle":{"position":"","top":"","right":"","left":"","bottom":"","padding-top":"","padding-bottom":"","padding-left":"","padding-right":"","margin-top":"","margin-bottom":"","margin-left":"","margin-right":"","font-size":"","color":""}}],"events":{},"layout":["10","90"],"realSize":["%","%"],"id":1563875679465,"pid":"root","commonStyle":{"position":"","top":"","right":"","left":"","bottom":"","width":"","height":"","text-align":"","background-color":"","padding-top":"","padding-bottom":"","padding-left":"","padding-right":"","margin-top":"","margin-bottom":"","margin-left":"","margin-right":"","border-color":"","border-width":"","border-style":"","color":"","opacity":1,"border-radius":"0px"},"ctnStyle":[{"position":"","top":"","right":"","left":"","bottom":"","text-align":"","background-color":"","padding-top":"","padding-bottom":"","padding-left":"","padding-right":"","margin-top":"","margin-bottom":"","margin-left":"","margin-right":"","border-color":"","border-width":"","border-style":""},{"position":"","top":"","right":"","left":"","bottom":"","text-align":"","background-color":"","padding-top":"","padding-bottom":"","padding-left":"","padding-right":"","margin-top":"","margin-bottom":"","margin-left":"","margin-right":"","border-color":"","border-width":"","border-style":""}]}],"events":{}},"logic":{"methods":{"addBankCard":{"labelObj":{"view":[{"index":"417CC1A66804C54B1692354AA20349CF","name":"t4","desp":"t4","type":"parm","value":[{"option":{"name":"diy","desp":"自定义代码","mode":"custom","input":[{"type":"Value","value":"ctx.open({\n\t  status:true,\n\t\ttitle:'办理储蓄卡',\n\t\tpath:'cmbcms/newBankCard',\n\t\tpage:'cmbcms/user/userInfo',\n\t\ttype:'SUB',\n\t\tparams:{userOptFlag:'addUser',userOptLabel:'添加用户'},\n\t\thideCancelBtn:true,\n\t\thideConfirmBtn:true,\n\t\tconfirmCallback:() => { \n\t\t\tctx.queryUserList();\n\t\t\tctx.$root.$store.state.loadingPage=false;\n\t\t\tctx.close();\n\t\t\tconsole.log('点击确定')\n\t\t},\n\t\tcancelCallback:(e) => {\n\t\t\tconsole.log('点击取消')\n\t\t}\n})","children":[]},{"type":"Value","value":"this.value2","children":[]}]},"children":[{"id":0,"option":{"type":"Value","value":"ctx.open({\n\t  status:true,\n\t\ttitle:'银行卡录入',\n\t\tpath:'cmbcms/addBankCard',\n\t\tpage:'cmbcms/account/addBankCard',\n\t\ttype:'SUB',\n\t\tparams:{userOptFlag:'addBankCard',userOptLabel:'银行卡录入'},\n\t\thideCancelBtn:true,\n\t\thideConfirmBtn:true,\n\t\tconfirmCallback:() => { \n\t\t\tconsole.log('点击确定')\n\t\t},\n\t\tcancelCallback:(e) => {\n\t\t\tconsole.log('点击取消')\n\t\t}\n})","children":[]}},{"id":0,"option":{"type":"Value","value":"this.value2","children":[]}}],"mode":"custom","id":0}],"note":"//注释"}],"output":[]},"code":"","name":"addBankCard","desp":"办理储蓄卡","upCode":[],"downCode":[],"custom":true,"params":[]},"deleteBankCard":{"labelObj":{"view":[{"index":"1E65C1B264F8C02BF7774221F6B2C080","name":"t4","desp":"t4","type":"parm","value":[{"option":{"name":"diy","desp":"自定义代码","mode":"custom","input":[{"type":"Value","value":"this.$axios.post('v1/ds/cmbcms/cmbcms/deleteUser',{card_num: row.card_num}\n    ).then(res=>{\n        if(res.retType === 'SUCCESS'){\n            ctx.queryUserList();\n            ctx.$message({\n                showClose: true,\n                message: res.retMsg,\n                type: 'success'\n            });\n        }else{\n            ctx.$message({\n                showClose: true,\n                message: res.retMsg,\n                type: 'error'\n            });\n        }\n        \n    }).catch(error=> {\n        ctx.$message({\n                showClose: true,\n                message: error,\n                type: 'error'\n        });\n    });","children":[]},{"type":"Value","value":"this.value2","children":[]}]},"children":[{"id":0,"option":{"type":"Value","value":"this.$axios.post('v1/ds/cmbcms/cmbcms/deleteBankCard',{card_num: row.card_num}\n    ).then(res=>{\n        if(res.retType === 'SUCCESS'){\n            ctx.queryBankCardList();\n            ctx.$message({\n                showClose: true,\n                message: res.retMsg,\n                type: 'success'\n            });\n        }else{\n            ctx.$message({\n                showClose: true,\n                message: res.retMsg,\n                duration: 0,\n                type: 'error'\n            });\n        }\n        \n    }).catch(error=> {\n        ctx.$message({\n                showClose: true,\n                message: error,\n                duration: 0,\n                type: 'error'\n        });\n    });","children":[]}},{"id":0,"option":{"type":"Value","value":"this.value2","children":[]}}],"mode":"custom","id":0}],"note":"//注释"}],"output":[]},"code":"","name":"deleteBankCard","desp":"删除银行卡","upCode":[],"downCode":[],"custom":true,"params":["index","row"]},"queryBankCardList":{"labelObj":{"view":[{"index":"031E207C3693EE08DBF29F67A726270C","name":"t4","desp":"t4","type":"parm","value":[{"option":{"name":"diy","desp":"自定义代码","mode":"custom","input":[{"type":"Value","value":"this.$axios.post('v1/ds/cmbcms/cmbcms/queryBankCardList',{}\n    ).then(res=>{\n        debugger;\n\n        if(res.retType === 'SUCCESS'){\n            ctx.bankCardListData = res.jsonData;\n            ctx.$store.state.root.$store.state.loadingPage=false;\n        }else{\n            this.$message({\n                showClose: true,\n                message: res.retMsg,\n                type: 'error'\n            });\n        }\n        \n    }).catch(error=> {\n        this.$message({\n                showClose: true,\n                message: error,\n                type: 'error'\n        });\n    });","children":[]},{"type":"Value","value":"this.value2","children":[]}]},"children":[{"id":0,"option":{"type":"Value","value":"this.$axios.post('v1/ds/cmbcms/cmbcms/queryBankCardList',{}\n    ).then(res=>{\n        debugger;\n\n        if(res.retType === 'SUCCESS'){\n            ctx.bankCardListData = res.jsonData;\n        }else{\n            this.$message({\n                showClose: true,\n                message: res.retMsg,\n                duration: 0,\n                type: 'error'\n            });\n        }\n        \n    }).catch(error=> {\n        this.$message({\n                showClose: true,\n                message: error,\n                duration: 0,\n                type: 'error'\n        });\n    });","children":[]}},{"id":0,"option":{"type":"Value","value":"this.value2","children":[]}}],"mode":"custom","id":0}],"note":"//注释"}],"output":[]},"code":"","name":"queryBankCardList","desp":"查询银行卡信息列表","upCode":[],"downCode":[],"custom":true,"params":[]}},"watch":{},"beforeCreate":{"labelObj":{"view":[],"output":[]},"code":"","upCode":[],"downCode":[]},"created":{"labelObj":{"view":[{"index":"9E2EA7ADCFBDDBC8ADF9E0467D5B46C7","name":"t4","desp":"t4","type":"parm","value":[{"option":{"name":"diy","desp":"自定义代码","mode":"custom","input":[{"type":"Value","value":"ctx.queryBanCardList()","children":[]},{"type":"Value","value":"this.value2","children":[]}]},"children":[{"id":0,"option":{"type":"Value","value":"ctx.queryBankCardList()","children":[]}},{"id":0,"option":{"type":"Value","value":"this.value2","children":[]}}],"mode":"custom","id":0}],"note":"//注释"}],"output":[]},"code":"","upCode":[],"downCode":[]},"beforeMount":{"labelObj":{"view":[],"output":[]},"code":"","upCode":[],"downCode":[]},"mounted":{"labelObj":{"view":[{"index":"6FFDF187CF7FFECD85936D1800567600","name":"t4","desp":"t4","type":"parm","value":[{"option":{"name":"diy","desp":"自定义代码","mode":"custom","input":[{"type":"Value","value":"ctx.$root.$on('refreshBankCardList',()=>{\n    ctx.queryBanCardList();\n});","children":[]},{"type":"Value","value":"this.value2","children":[]}]},"children":[{"id":0,"option":{"type":"Value","value":"ctx.$root.$on('refreshBankCardList',()=>{\n    ctx.queryBankCardList();\n});","children":[]}},{"id":0,"option":{"type":"Value","value":"this.value2","children":[]}}],"mode":"custom","id":0}],"note":"//注释"}],"output":[]},"code":"","upCode":[],"downCode":[]},"beforeUpdate":{"labelObj":{"view":[],"output":[]},"code":"","upCode":[],"downCode":[]},"updated":{"labelObj":{"view":[],"output":[]},"code":"","upCode":[],"downCode":[]},"beforeDestroy":{"labelObj":{"view":[],"output":[]},"code":"","upCode":[],"downCode":[]},"destroyed":{"labelObj":{"view":[],"output":[]},"code":"","upCode":[],"downCode":[]},"pollList":[],"undefined":{"labelObj":{"view":[{"index":"9E2EA7ADCFBDDBC8ADF9E0467D5B46C7","name":"t4","desp":"t4","type":"parm","value":[{"option":{"name":"diy","desp":"自定义代码","mode":"custom","input":[{"type":"Value","value":"ctx.queryBanCardList()","children":[]},{"type":"Value","value":"this.value2","children":[]}]},"children":[{"id":0,"option":{"type":"Value","value":"ctx.queryBankCardList()","children":[]}},{"id":0,"option":{"type":"Value","value":"this.value2","children":[]}}],"mode":"custom","id":0}],"note":"//注释"}],"output":[]},"code":"","upCode":[],"downCode":[]}},"dataBasket":{"data":{"bankCard":"{\n\tcard_num: '',\n\tpassword: '',\n\tcard_kind: '',                    \n\tstatus: '',\t                      \n\tcreate_branch: '',\n\tcreate_date: '',\n\texpired_date: '',\n\tphone: '',\n\tidentity_card: ''\n}","bankCardListData":"[\n    \n]"},"list":[{"name":"bankCard","desp":"bankCard","item":[{"name":"this.bankCard.card_num","desp":"card_num","value":""},{"name":"this.bankCard.password","desp":"password","value":""},{"name":"this.bankCard.card_kind","desp":"card_kind","value":""},{"name":"this.bankCard.status","desp":"status","value":""},{"name":"this.bankCard.create_branch","desp":"create_branch","value":""},{"name":"this.bankCard.create_date","desp":"create_date","value":""},{"name":"this.bankCard.expired_date","desp":"expired_date","value":""},{"name":"this.bankCard.phone","desp":"phone","value":""},{"name":"this.bankCard.identity_card","desp":"identity_card","value":""}]},{"name":"bankCardListData","desp":"银行卡列表信息","value":"[\n    \n]"}],"mapping":{"1563875773177":[{"id":1563875773177,"modelValue":"tableData","dataValue":"bankCardListData","type":""}]}},"events":{"1564043682665":[{"index":0,"event":"click","val":"newBankCard","desp":""}]},"display":{"icon":"icontongyong","desp":"开通储蓄卡","width":"100%","height":"100%"},"scssCode":""}