{"structure":{"id":"root","component":"v2Container","direction":"row","layout":[100],"style":{"width":"100%","height":"100%"},"data":{},"children":[{"component":"v2-layout","href":"v2-layout","layout":["10","10","70","10"],"direction":"row","children":[{"style":{"textStyle":{"height":"","width":"","line-height":"","font-family":"","font-weight":"","font-style":"","text-decoration":""}},"text":"${newsOptLabel}","editable":false,"ctnClass":"","customClass":"","__type":"","__loopTarget":"","__capacity":"1","component":"v2-component-text","href":"v2-component-text","children":[],"events":{},"id":1564135738619,"pid":1564135571029,"commonStyle":{"position":"","top":"","right":"","left":"","bottom":"","padding-top":"","padding-bottom":"","padding-left":"","padding-right":"","margin-top":"","margin-bottom":"","margin-left":"","margin-right":"","font-size":"","color":""}},{"theme":{"size":""},"style":{"label":{"font-size":"","font-weight":"","color":""}},"label":"标题","titleMode":"col","labelWitdh":"80px","inputType":"text","rows":"2","placeholder":"请选择","prepend":"","append":"","maxlength":"","minlength":"","prefixIcon":"","suffixIcon":"","showWordLimit":false,"value":"${news.title}","clearable":false,"disabled":false,"isRequired":false,"autoComplete":false,"suggestion":"","rules":"","ctnClass":"","customClass":"","__type":"","__loopTarget":"","__capacity":"1","component":"v2-form-input","href":"v2-form-input","children":[],"events":{},"id":1564135742836,"pid":1564135571029,"commonStyle":{"position":"","top":"","right":"","left":"","bottom":"","padding-top":"","padding-bottom":"","padding-left":"","padding-right":"","margin-top":"","margin-bottom":"","margin-left":"","margin-right":"","font-size":"","color":""}},{"theme":{"size":""},"style":{"label":{"font-size":"","font-weight":"","color":""},"ctnStyle":{"height":"","width":""}},"label":"内容","titleMode":"col","labelWitdh":"80px","placeholder":"请编辑","value":"${news.content}","disabled":false,"isRequired":false,"rules":"","ctnClass":"","customClass":"","__type":"","__loopTarget":"","__capacity":"1","component":"v2-form-editor","href":"v2-form-editor","children":[],"events":{},"id":1564135762399,"pid":1564135571029,"commonStyle":{"position":"","top":"","right":"","left":"","bottom":"","padding-top":"","padding-bottom":"","padding-left":"","padding-right":"","margin-top":"","margin-bottom":"","margin-left":"","margin-right":"","font-size":"","color":""}},{"theme":{"btnType":"","size":""},"style":{"btnStyle":{"background-color":"","height":"","width":""}},"btnName":"提交","shape":"def","loading":false,"disabled":false,"ctnClass":"","customClass":"","__type":"","__loopTarget":"","__capacity":"1","component":"v2-component-btn","href":"v2-component-btn","children":[],"events":{"_op_componentBtn_btn":{"click":["submitNewsInfo"]}},"id":1564135824638,"pid":1564135571029,"commonStyle":{"position":"","top":"","right":"","left":"","bottom":"","padding-top":"","padding-bottom":"","padding-left":"","padding-right":"","margin-top":"","margin-bottom":"","margin-left":"","margin-right":"","font-size":"","color":""}}],"style":{},"pid":"root-0","id":1564135571029,"ctnClass":"","customClass":"","realSize":["%","%","%","%"],"commonStyle":{"position":"","top":"","right":"","left":"","bottom":"","padding-top":"","padding-bottom":"","padding-left":"","padding-right":"","margin-top":"","margin-bottom":"","margin-left":"","margin-right":"","font-size":"","color":""},"ctnStyle":[{"position":"","top":"","right":"","left":"","bottom":"","text-align":"","background-color":"","padding-top":"","padding-bottom":"","padding-left":"","padding-right":"","margin-top":"","margin-bottom":"","margin-left":"","margin-right":"","border-color":"","border-width":"","border-style":""},{"position":"","top":"","right":"","left":"","bottom":"","text-align":"","background-color":"","padding-top":"","padding-bottom":"","padding-left":"","padding-right":"","margin-top":"","margin-bottom":"","margin-left":"","margin-right":"","border-color":"","border-width":"","border-style":""},{"position":"","top":"","right":"","left":"","bottom":"","text-align":"","background-color":"","padding-top":"","padding-bottom":"","padding-left":"","padding-right":"","margin-top":"","margin-bottom":"","margin-left":"","margin-right":"","border-color":"","border-width":"","border-style":""},{"position":"","top":"","right":"","left":"","bottom":"","text-align":"","background-color":"","padding-top":"","padding-bottom":"","padding-left":"","padding-right":"","margin-top":"","margin-bottom":"","margin-left":"","margin-right":"","border-color":"","border-width":"","border-style":""}]}],"events":{}},"logic":{"methods":{"submitNewsInfo":{"labelObj":{"view":[{"index":"12688A187BCF27E169A3D61FC56ED8F2","name":"t4","desp":"t4","type":"parm","value":[{"option":{"name":"diy","desp":"自定义代码","mode":"custom","input":[{"type":"Value","value":"$axios.post('v1/ds/cmbcms/cmbcms/' + ctx.newsOptFlag,ctx.news\n    ).then(res=>{\n        if(res.retType === 'SUCCESS'){\n            this.$message({\n                showClose: true,\n                message: res.retMsg,\n                type: 'success'\n            });\n        }else{\n            this.$message({\n                showClose: true,\n                message: res.retMsg,\n                type: 'error'\n            });\n        }     \n    }).catch(error=> {\n        this.$message({\n                showClose: true,\n                message: error,\n                type: 'error'\n        });\n    });","children":[]},{"type":"Value","value":"this.value2","children":[]}]},"children":[{"id":0,"option":{"type":"Value","value":"$axios.post('v1/ds/cmbcms/cmbcms/' + ctx.newsOptFlag,ctx.news\n    ).then(res=>{\n        if(res.retType === 'SUCCESS'){\n            ctx.$root.$emit('refreshNewsList');\n            ctx.close();\n            this.$message({\n                showClose: true,\n                message: res.retMsg,\n                type: 'success'\n            });\n        }else{\n            this.$message({\n                showClose: true,\n                message: res.retMsg,\n                duration: 0,\n                type: 'error'\n            });\n        }     \n    }).catch(error=> {\n        this.$message({\n                showClose: true,\n                message: error,\n                duration: 0,\n                type: 'error'\n        });\n    });","children":[]}},{"id":0,"option":{"type":"Value","value":"this.value2","children":[]}}],"mode":"custom","id":0}],"note":"//注释"}],"output":[]},"code":"","name":"submitNewsInfo","desp":"submitNewsInfo","upCode":[],"downCode":[],"custom":true,"params":[]}},"watch":{},"computed":{},"beforeCreate":{"labelObj":{"view":[],"output":[]},"code":"","upCode":[],"downCode":[]},"created":{"labelObj":{"view":[],"output":[]},"code":"","upCode":[],"downCode":[]},"beforeMount":{"labelObj":{"view":[],"output":[]},"code":"","upCode":[],"downCode":[]},"mounted":{"labelObj":{"view":[],"output":[]},"code":"","upCode":[],"downCode":[]},"beforeUpdate":{"labelObj":{"view":[],"output":[]},"code":"","upCode":[],"downCode":[]},"updated":{"labelObj":{"view":[],"output":[]},"code":"","upCode":[],"downCode":[]},"beforeDestroy":{"labelObj":{"view":[],"output":[]},"code":"","upCode":[],"downCode":[]},"destroyed":{"labelObj":{"view":[],"output":[]},"code":"","upCode":[],"downCode":[]},"pollList":[]},"dataBasket":{"data":{"newsOptLabel":"'添加公告'","newsOptFlag":"'addNews'","news":"{\n    title: '',\n    content: ''\n}"},"list":[{"name":"newsOptLabel","desp":"newsOptLabel","value":"'添加公告'"},{"name":"newsOptFlag","desp":"newsOptFlag","value":"'addNews'"},{"name":"news","desp":"最新公告","item":[{"name":"this.news.title","desp":"title","value":""},{"name":"this.news.content","desp":"content","value":""}]}],"mapping":{"1564135738619":[{"id":1564135738619,"modelValue":"text","dataValue":"newsOptLabel","type":""}],"1564135742836":[{"id":1564135742836,"modelValue":"value","dataValue":"news.title","type":""}],"1564135762399":[{"id":1564135762399,"modelValue":"value","dataValue":"news.content","type":""}]}},"events":{},"display":{"icon":"icontongyong","desp":"公告操作","width":"100%","height":"100%"},"scssCode":""}