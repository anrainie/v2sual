(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["example-rightMenu"],{"39c6":function(e,t,n){"use strict";var i=n("5cf4"),a=n.n(i);a.a},"5cf4":function(e,t,n){},"65c7":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("el-row",{staticClass:"aweb-demo-title"},[n("h2",[e._v("平台通用组件")])]),n("el-row",{staticClass:"aweb-component-info"},[n("h4",[e._v("右键菜单")]),n("p",[e._v("某个DOM元素被click、dbclick、右键等触发弹出菜单")])]),n("el-row",e._l(4,function(t,i){return n("el-col",{key:t,attrs:{span:4,offset:i>0?2:1},nativeOn:{contextmenu:function(t){return t.preventDefault(),e.rightClick(t)}}},[n("el-card",{attrs:{shadow:"hover"}},[n("div",{staticStyle:{padding:"10px"}},[n("span",[e._v("好看的标题")]),n("div",{staticClass:"aweb-card-bottom clearfix"},[n("time",{staticClass:"aweb-card-text"},[e._v(e._s(e.text))])])])])],1)}),1),n("el-row",[n("p",{staticClass:"aweb-code-title"},[e._v("使用代码如下:")]),n("pre",[e._v('     //在页面尾部插入组件\n    < right-menu :menuData="rightMenuData"  :eventHandler=rightClickHandler  v-on:handleSelect= "handleRightSelect"> </right-menu>\n\n     //在事件触发节点绑定事件 \n   <el-col :span="4" v-for="(o, index) in 4" :key="o" :offset="index > 0 ? 2 : 1" @contextmenu.native.prevent = "rightClick">卡片代码</el-col>\n\n\n    import rightMenu from \'@/components/rightMenu\'\n    export default {\n      data() {\n        return {\n          rightClickHandler:null,\n          rightMenuData:[{\n            name:\'打开详情\',\n            key:\'btn1\'\n          },{\n            name:\'关联权限\',\n            key:\'btn2\'\n          }]\n        }\n      },\n      methods: {\n        rightClick(e){\n          this.rightClickHandler = e;\n        },\n        handleRightSelect(key){\n            console.log(key);\n        }\n      },\n      components:{\n        rightMenu\n      }\n    }\n\n\t\t')])]),n("el-row",{staticClass:"aweb-component-info"},[n("h4",[e._v("树组件添加右键菜单")]),n("p",[e._v("树节点右键等触发弹出菜单")])]),n("el-row",{staticClass:"aweb-demo-ctn"},[n("el-tree",{attrs:{data:e.treeData,"node-key":"id","default-expand-all":""},on:{"node-contextmenu":e.handleNodeClick}})],1),n("p",{staticClass:"aweb-code-title"},[e._v("使用代码如下:")]),n("pre",[e._v('      <el-tree :data="treeData"  @node-contextmenu="handleNodeClick"   node-key="id" default-expand-all> </el-tree>\n   ')]),n("el-row",{staticClass:"aweb-component-info"},[n("h4",[e._v("按钮添加右键菜单")]),n("p",[e._v("采用嵌入方式调用组件")])]),n("el-row",{staticClass:"aweb-demo-ctn",staticStyle:{"margin-bottom":"30px"}},[n("el-button",{attrs:{type:"primary"},nativeOn:{contextmenu:function(t){return t.preventDefault(),e.rightClick(t)}}},[e._v("请右键")])],1),n("right-menu",{attrs:{menuData:e.rightMenuData,eventHandler:e.rightClickHandler},on:{handleSelect:e.handleRightSelect}}),n("right-menu",{attrs:{menuData:e.rightMenuData,eventHandler:e.treeRightClickHandler},on:{handleSelect:e.treeRightSelect}})],1)},a=[],l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("transition",{attrs:{name:"fade-in-linear"},on:{"after-leave":e.destroyed}},[e.showMenu?n("div",{ref:"rightClickMenu",staticClass:"aweb-right-menu"},[n("el-menu",{staticClass:"el-menu-vertical",attrs:{"background-color":"#545c64","text-color":"#fff","active-text-color":"#04bebd"},on:{select:e.handleRightSelect}},[e._l(e.menuData,function(t,i){return[n("el-menu-item",{key:i,staticClass:"menuItem",attrs:{index:t.key}},[n("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.name))])])]})],2)],1):e._e()]),e._t("reference")],2)},r=[],c=n("2b0e");const o=c["default"].prototype.$isServer,s=(o||Number(document.documentMode),function(){return!o&&document.addEventListener?function(e,t,n){e&&t&&n&&e.addEventListener(t,n,!1)}:function(e,t,n){e&&t&&n&&e.attachEvent("on"+t,n)}}()),u=function(){return!o&&document.removeEventListener?function(e,t,n){e&&t&&e.removeEventListener(t,n,!1)}:function(e,t,n){e&&t&&e.detachEvent("on"+t,n)}}();var h={props:{menuData:Array,eventHandler:MouseEvent},data:function(){return{triggerElement:null,showMenu:!1}},watch:{eventHandler:function(e){var t=this;e&&(this.showMenu=!0,this.$nextTick(function(){t.$refs.rightClickMenu.style.left=e.clientX+"px",t.$refs.rightClickMenu.style.top=e.clientY+"px",t.triggerElement=e.target})),s(document,"click",this.handleDocumentClick)}},methods:{handleRightSelect:function(e,t){this.$emit("handleSelect",e),this.showMenu=!1},handleDocumentClick:function(e){var t=this.reference||this.$refs.reference||this.triggerElement,n=this.$refs.rightClickMenu;!t&&this.$slots.reference&&this.$slots.reference[0]&&(t=this.referenceElm=this.$slots.reference[0].elm),this.$el&&t&&!this.$el.contains(e.target)&&!t.contains(e.target)&&n&&!n.contains(e.target)&&(this.showMenu=!1)},destroyed:function(){u(document,"click",this.handleDocumentClick)},createdMenu:function(e){var t=this;this.showMenu=!0,this.$nextTick(function(){t.$refs.rightClickMenu.style.left=e.clientX+"px",t.$refs.rightClickMenu.style.top=e.clientY+"px"})}},mounted:function(){},name:"rightMenu"},d=h,f=(n("39c6"),n("2877")),m=Object(f["a"])(d,l,r,!1,null,"17cfd392",null),g=m.exports,v={data:function(){return{text:"一段美丽的描述，记录美丽的故事。请右键试试。。。",rightClickHandler:null,treeRightClickHandler:null,rightMenuData:[{name:"打开详情",key:"btn1"},{name:"关联权限",key:"btn2"}],treeData:[{label:"一级 1",id:1,children:[{label:"二级 1-1",id:2,children:[{id:3,label:"三级 1-1-1"}]}]}]}},created:function(){},methods:{rightClick:function(e){this.rightClickHandler=e},handleNodeClick:function(e){this.treeRightClickHandler=e},handleRightSelect:function(e){console.log(e)},treeRightSelect:function(){}},components:{rightMenu:g}},p=v,k=(n("9c84"),Object(f["a"])(p,i,a,!1,null,"41941189",null));t["default"]=k.exports},"9c84":function(e,t,n){"use strict";var i=n("b27e"),a=n.n(i);a.a},b27e:function(e,t,n){}}]);